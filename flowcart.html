<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Greenhouse - Visualisasi Diagram</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .tab-btn {
        padding: 15px 30px;
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 10px;
        cursor: pointer;
        font-size: 1em;
        font-weight: bold;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
      }

      .tab-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .tab-btn.active {
        background: white;
        color: #667eea;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .diagram-container {
        background: white;
        border-radius: 15px;
        padding: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        display: none;
        animation: fadeIn 0.5s ease;
      }

      .diagram-container.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .diagram-title {
        font-size: 2em;
        color: #667eea;
        margin-bottom: 20px;
        text-align: center;
        font-weight: bold;
      }

      .diagram-description {
        color: #666;
        margin-bottom: 30px;
        line-height: 1.6;
        text-align: center;
        font-size: 1.1em;
      }

      /* Block Diagram Styles */
      .block-diagram {
        display: flex;
        flex-direction: column;
        gap: 30px;
        align-items: center;
      }

      .block-row {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .block {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px 35px;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        min-width: 200px;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
      }

      .block:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
      }

      .block h3 {
        font-size: 1.3em;
        margin-bottom: 10px;
      }

      .block ul {
        list-style: none;
        font-size: 0.9em;
        line-height: 1.8;
      }

      .block.controller {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        min-width: 250px;
      }

      .block.platform {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .arrow-down {
        width: 0;
        height: 0;
        border-left: 20px solid transparent;
        border-right: 20px solid transparent;
        border-top: 30px solid #667eea;
        margin: 0 auto;
        opacity: 0.6;
      }

      /* Flowchart Styles */
      .flowchart {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .flow-node {
        background: white;
        border: 3px solid #667eea;
        padding: 20px 30px;
        border-radius: 10px;
        min-width: 250px;
        text-align: center;
        font-weight: bold;
        color: #333;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .flow-node:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .flow-node.start-end {
        background: #667eea;
        color: white;
        border-radius: 50px;
      }

      .flow-node.decision {
        background: #fff5e6;
        border-color: #ff9800;
        clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        padding: 30px 40px;
        min-width: 280px;
      }

      .flow-node.process {
        background: #e3f2fd;
        border-color: #2196f3;
      }

      .flow-node.action {
        background: #e8f5e9;
        border-color: #4caf50;
      }

      .flow-branches {
        display: flex;
        gap: 40px;
        justify-content: center;
      }

      .flow-branch {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }

      .branch-label {
        background: #ff9800;
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.9em;
      }

      .flow-connector {
        width: 3px;
        height: 25px;
        background: #667eea;
        margin: 0 auto;
      }

      /* Use Case Diagram */
      .usecase-diagram {
        display: grid;
        grid-template-columns: 1fr 2fr 1fr;
        gap: 30px;
        align-items: center;
        margin-top: 30px;
      }

      .actor {
        text-align: center;
      }

      .actor-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        margin: 0 auto 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2.5em;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .actor-name {
        font-weight: bold;
        color: #333;
        font-size: 1.2em;
      }

      .use-cases {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .use-case {
        background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        border: 2px solid #2196f3;
        padding: 15px 25px;
        border-radius: 30px;
        text-align: center;
        font-weight: 500;
        color: #1976d2;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .use-case:hover {
        transform: translateX(10px);
        box-shadow: 0 5px 15px rgba(33, 150, 243, 0.3);
        background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
        color: white;
      }

      /* Architecture Diagram */
      .architecture {
        display: flex;
        flex-direction: column;
        gap: 25px;
      }

      .tier {
        background: white;
        border: 3px solid #667eea;
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .tier-title {
        font-size: 1.5em;
        color: #667eea;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center;
      }

      .tier-content {
        display: flex;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
      }

      .tier-component {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 10px;
        min-width: 180px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      }

      .tier-component h4 {
        font-size: 1.1em;
        margin-bottom: 10px;
      }

      .tier-component ul {
        list-style: none;
        font-size: 0.85em;
        line-height: 1.6;
      }

      .tier-connector {
        text-align: center;
        color: #667eea;
        font-size: 2em;
        font-weight: bold;
      }

      /* Hardware Connection Diagram */
      .hardware-diagram {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 30px;
        align-items: center;
        margin-top: 30px;
      }

      .hardware-column {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .hardware-item {
        background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        padding: 15px 20px;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        font-weight: 500;
        color: #333;
        transition: all 0.3s ease;
      }

      .hardware-item:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(132, 250, 176, 0.3);
      }

      .esp32-center {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 40px 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 8px 25px rgba(245, 87, 108, 0.3);
        min-width: 200px;
      }

      .esp32-center h3 {
        font-size: 1.5em;
        margin-bottom: 10px;
      }

      .connection-line {
        width: 50px;
        height: 3px;
        background: #667eea;
      }

      @media (max-width: 768px) {
        .usecase-diagram,
        .hardware-diagram {
          grid-template-columns: 1fr;
        }

        header h1 {
          font-size: 1.8em;
        }

        .tab-btn {
          padding: 12px 20px;
          font-size: 0.9em;
        }

        .diagram-container {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>🌱 Smart Greenhouse IoT System</h1>
        <p>Visualisasi Diagram & Flowchart Sistem</p>
      </header>

      <div class="tabs">
        <button class="tab-btn active" onclick="showDiagram('block')">
          Diagram Blok
        </button>
        <button class="tab-btn" onclick="showDiagram('flowchart')">
          Flowchart
        </button>
        <button class="tab-btn" onclick="showDiagram('usecase')">
          Use Case
        </button>
        <button class="tab-btn" onclick="showDiagram('architecture')">
          Arsitektur
        </button>
        <button class="tab-btn" onclick="showDiagram('hardware')">
          Koneksi Hardware
        </button>
      </div>

      <!-- Block Diagram -->
      <div id="block" class="diagram-container active">
        <h2 class="diagram-title">📊 Diagram Blok Sistem</h2>
        <p class="diagram-description">
          Diagram blok menunjukkan komponen utama sistem Smart Greenhouse dan
          hubungan antar komponen
        </p>

        <div class="block-diagram">
          <div class="block-row">
            <div class="block">
              <h3>📡 SENSORS</h3>
              <ul>
                <li>• DHT22 (Suhu & Kelembaban)</li>
                <li>• Soil Moisture Sensor</li>
                <li>• LDR (Light Sensor)</li>
              </ul>
            </div>
          </div>

          <div class="arrow-down"></div>

          <div class="block-row">
            <div class="block controller">
              <h3>🎛️ MICROCONTROLLER</h3>
              <ul>
                <li>ESP32 DevKit</li>
                <li>• Data Processing</li>
                <li>• Control Logic</li>
                <li>• Wi-Fi Communication</li>
              </ul>
            </div>
          </div>

          <div class="arrow-down"></div>

          <div class="block-row">
            <div class="block platform">
              <h3>☁️ IoT PLATFORM</h3>
              <ul>
                <li>Blynk / ThingSpeak</li>
                <li>• MQTT Broker</li>
                <li>• Cloud Database</li>
                <li>• Real-time Dashboard</li>
              </ul>
            </div>
          </div>

          <div class="arrow-down"></div>

          <div class="block-row">
            <div class="block">
              <h3>💧 ACTUATORS</h3>
              <ul>
                <li>• Water Pump</li>
                <li>• Relay Module</li>
                <li>• Notification System</li>
              </ul>
            </div>
            <div class="block">
              <h3>📱 USER INTERFACE</h3>
              <ul>
                <li>• Mobile App</li>
                <li>• Web Dashboard</li>
                <li>• Manual Control</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Flowchart -->
      <div id="flowchart" class="diagram-container">
        <h2 class="diagram-title">🔄 Flowchart Sistem Irigasi Otomatis</h2>
        <p class="diagram-description">
          Alur kerja sistem dalam memproses data sensor dan mengontrol irigasi
        </p>

        <div class="flowchart">
          <div class="flow-node start-end">START</div>
          <div class="flow-connector"></div>

          <div class="flow-node process">
            Inisialisasi Sistem<br />
            <small>Wi-Fi, Sensors, MQTT</small>
          </div>
          <div class="flow-connector"></div>

          <div class="flow-node process">
            Baca Data Sensor<br />
            <small>Suhu, Kelembaban, Soil Moisture</small>
          </div>
          <div class="flow-connector"></div>

          <div class="flow-node process">
            Kirim Data ke Cloud<br />
            <small>via MQTT/HTTP</small>
          </div>
          <div class="flow-connector"></div>

          <div class="flow-node decision">Kelembaban Tanah<br />< 40% ?</div>

          <div class="flow-branches">
            <div class="flow-branch">
              <span class="branch-label">YA</span>
              <div class="flow-node action">
                Aktifkan Pompa Air<br />
                <small>Status: Menyiram</small>
              </div>
            </div>

            <div class="flow-branch">
              <span class="branch-label">TIDAK</span>
              <div class="flow-node decision">Kelembaban > 60% ?</div>
              <div class="flow-branches" style="margin-top: 15px">
                <div class="flow-branch">
                  <span class="branch-label" style="background: #4caf50"
                    >YA</span
                  >
                  <div class="flow-node action">
                    Matikan Pompa<br />
                    <small>Status: Normal</small>
                  </div>
                </div>
                <div class="flow-branch">
                  <span class="branch-label" style="background: #9e9e9e"
                    >TIDAK</span
                  >
                  <div class="flow-node process">Pertahankan Status</div>
                </div>
              </div>
            </div>
          </div>

          <div class="flow-connector" style="height: 50px"></div>

          <div class="flow-node process">Update Dashboard & Notifikasi</div>
          <div class="flow-connector"></div>

          <div class="flow-node process">Delay 5 Detik</div>
          <div class="flow-connector"></div>

          <div class="flow-node start-end">LOOP KEMBALI</div>
        </div>
      </div>

      <!-- Use Case Diagram -->
      <div id="usecase" class="diagram-container">
        <h2 class="diagram-title">👥 Use Case Diagram</h2>
        <p class="diagram-description">
          Interaksi antara pengguna (Petani) dan sistem Smart Greenhouse
        </p>

        <div class="usecase-diagram">
          <div class="actor">
            <div class="actor-icon">👨‍🌾</div>
            <div class="actor-name">PETANI<br />(User)</div>
          </div>

          <div class="use-cases">
            <div class="use-case">📊 View Real-time Sensor Data</div>
            <div class="use-case">🌡️ Monitor Temperature & Humidity</div>
            <div class="use-case">💧 Check Soil Moisture Level</div>
            <div class="use-case">🎮 Control Irrigation Manually</div>
            <div class="use-case">⚙️ Set Threshold Values</div>
            <div class="use-case">📈 View Historical Data</div>
            <div class="use-case">🔔 Receive Alert Notifications</div>
            <div class="use-case">📥 Export Data (CSV/Excel)</div>
            <div class="use-case">🔧 Configure System Settings</div>
          </div>

          <div class="actor">
            <div class="actor-icon">🤖</div>
            <div class="actor-name">SISTEM<br />(Automated)</div>
          </div>
        </div>
      </div>

      <!-- Architecture Diagram -->
      <div id="architecture" class="diagram-container">
        <h2 class="diagram-title">🏗️ Arsitektur Sistem 3-Tier</h2>
        <p class="diagram-description">
          Arsitektur sistem terdiri dari 3 layer: Presentation, Application, dan
          Data Tier
        </p>

        <div class="architecture">
          <div class="tier">
            <div class="tier-title">📱 PRESENTATION TIER (User Interface)</div>
            <div class="tier-content">
              <div class="tier-component">
                <h4>Mobile App</h4>
                <ul>
                  <li>• Real-time data</li>
                  <li>• Quick control</li>
                  <li>• Push notifications</li>
                </ul>
              </div>
              <div class="tier-component">
                <h4>Web Dashboard</h4>
                <ul>
                  <li>• Data analytics</li>
                  <li>• Export reports</li>
                  <li>• Configuration</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="tier-connector">⬇️</div>

          <div class="tier">
            <div class="tier-title">☁️ APPLICATION TIER (Business Logic)</div>
            <div class="tier-content">
              <div class="tier-component">
                <h4>IoT Cloud Platform</h4>
                <ul>
                  <li>• Data processing</li>
                  <li>• Business rules</li>
                  <li>• Alert management</li>
                  <li>• Authentication</li>
                </ul>
              </div>
              <div class="tier-component">
                <h4>MQTT Broker</h4>
                <ul>
                  <li>• Message queue</li>
                  <li>• Pub/Sub protocol</li>
                  <li>• QoS management</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="tier-connector">⬇️</div>

          <div class="tier">
            <div class="tier-title">🔌 DATA TIER (IoT Devices)</div>
            <div class="tier-content">
              <div class="tier-component">
                <h4>ESP32 Controller</h4>
                <ul>
                  <li>• Sensor data collection</li>
                  <li>• Local control logic</li>
                  <li>• Actuator management</li>
                  <li>• Data buffering</li>
                </ul>
              </div>
              <div class="tier-component">
                <h4>Sensors</h4>
                <ul>
                  <li>• DHT22</li>
                  <li>• Soil Moisture</li>
                  <li>• LDR Light</li>
                </ul>
              </div>
              <div class="tier-component">
                <h4>Actuators</h4>
                <ul>
                  <li>• Water Pump</li>
                  <li>• Relay Module</li>
                  <li>• LED Indicators</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Hardware Connection Diagram -->
      <div id="hardware" class="diagram-container">
        <h2 class="diagram-title">🔌 Diagram Koneksi Hardware</h2>
        <p class="diagram-description">
          Koneksi detail antara sensor, ESP32, dan aktuator dalam sistem Smart
          Greenhouse
        </p>

        <div class="hardware-diagram">
          <div class="hardware-column">
            <h3 style="color: #667eea; text-align: center; margin-bottom: 15px">
              INPUT SENSORS
            </h3>
            <div class="hardware-item">
              📡 DHT22<br />
              <small>GPIO 4 → Temp & Humidity</small>
            </div>
            <div class="hardware-item">
              💧 Soil Moisture Sensor<br />
              <small>ADC 34 → Analog Input</small>
            </div>
            <div class="hardware-item">
              💡 LDR Light Sensor<br />
              <small>ADC 35 → Light Intensity</small>
            </div>
            <div class="hardware-item">
              🔋 Power Supply<br />
              <small>5V 3A → VIN & GND</small>
            </div>
          </div>

          <div class="esp32-center">
            <h3>ESP32</h3>
            <p>DevKit</p>
            <hr style="margin: 15px 0; opacity: 0.3" />
            <small>
              • Dual-Core 240MHz<br />
              • Wi-Fi Module<br />
              • 34 GPIO Pins<br />
              • ADC & PWM
            </small>
          </div>

          <div class="hardware-column">
            <h3 style="color: #667eea; text-align: center; margin-bottom: 15px">
              OUTPUT ACTUATORS
            </h3>
            <div class="hardware-item">
              🔌 Relay Module<br />
              <small>GPIO 5 → Digital Output</small>
            </div>
            <div class="hardware-item">
              💦 Water Pump DC 5V<br />
              <small>Via Relay → Irrigation</small>
            </div>
            <div class="hardware-item">
              📶 MQTT Broker<br />
              <small>Wi-Fi → Cloud Platform</small>
            </div>
            <div class="hardware-item">
              🔔 Notification System<br />
              <small>Push → Mobile/Web</small>
            </div>
          </div>
        </div>

        <div
          style="
            margin-top: 40px;
            padding: 25px;
            background: #e3f2fd;
            border-radius: 10px;
            border-left: 5px solid #2196f3;
          "
        >
          <h4 style="color: #1976d2; margin-bottom: 10px">
            📋 Pin Configuration:
          </h4>
          <div
            style="
              display: grid;
              grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
              gap: 15px;
              color: #333;
            "
          >
            <div><strong>DHT22:</strong> GPIO 4</div>
            <div><strong>Soil Moisture:</strong> ADC 34</div>
            <div><strong>LDR:</strong> ADC 35</div>
            <div><strong>Relay/Pump:</strong> GPIO 5</div>
            <div><strong>Power:</strong> VIN (5V), GND</div>
            <div><strong>Wi-Fi:</strong> Built-in Module</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function showDiagram(diagramId) {
        // Hide all diagrams
        const diagrams = document.querySelectorAll(".diagram-container");
        diagrams.forEach((diagram) => {
          diagram.classList.remove("active");
        });

        // Remove active class from all tabs
        const tabs = document.querySelectorAll(".tab-btn");
        tabs.forEach((tab) => {
          tab.classList.remove("active");
        });

        // Show selected diagram
        document.getElementById(diagramId).classList.add("active");

        // Add active class to clicked tab
        event.target.classList.add("active");
      }

      // Add hover effect to use cases
      document.querySelectorAll(".use-case").forEach((usecase) => {
        usecase.addEventListener("click", function () {
          this.style.transform = "scale(1.1)";
          setTimeout(() => {
            this.style.transform = "translateX(10px)";
          }, 200);
        });
      });
    </script>
  </body>
</html>
